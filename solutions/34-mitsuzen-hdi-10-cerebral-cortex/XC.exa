TEST M = 1
MAKE
MARK LOOP
COPY M X
TEST X = -1
COPY X F
FJMP LOOP
SEEK -1
VOID F
MARK PRESORT
SEEK -9999
COPY 1 M
COPY 1 M
MARK SORT
COPY F T
SEEK 1
TEST T > F
TJMP SWAP
SEEK 1
MARK BACK
TEST EOF
TJMP FILE
SEEK -2
JUMP SORT
MARK SWAP
SEEK -1
COPY F X
SEEK -3
COPY F T
SEEK -1
COPY X F
SEEK 1
COPY T F
COPY F X
SEEK -3
COPY F T
SEEK -1
COPY X F
SEEK 1
COPY T F
COPY 0 M
COPY 0 M
JUMP BACK
MARK FILE
COPY -1 M
COPY M X
TEST X = 0
FJMP END
COPY 1 M
JUMP PRESORT
MARK END
COPY -2 M