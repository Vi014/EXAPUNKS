MAKE
COPY 0 M
COPY 38 T
MARK WAIT
SUBI T 1 T
TJMP WAIT
COPY M X
MULI X 2 T
MARK COPY
COPY M F
SUBI T 1 T
TJMP COPY
MODE
COPY 1 M
SEEK -9999
SUBI X 1 T
SUBI X 2 X
MARK LOOP
COPY F M
SEEK X
COPY F M
MULI X -1 X
SEEK X
SEEK -1
SUBI T 1 T
MULI X -1 X
TJMP LOOP
SEEK 9999
SEEK -2
COPY F M
COPY F M
COPY -1 M

COPY 1 X
MARK HELPER
COPY M T
MULI X T X
TEST T = -1
TJMP RETURN
COPY M T
JUMP HELPER
MARK RETURN
COPY X M
COPY M X
TEST X = -2
TJMP END
JUMP HELPER
MARK END